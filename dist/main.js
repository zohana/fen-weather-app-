var Client=function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);function a(e,t){const n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),a=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((a-n)/864e5)}const r=e=>"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1),o=function(e){e.parentNode.parentNode.parentNode.removeChild(e.parentNode.parentNode)};let i=window.onload=function(){let e=document.getElementById("departure-date"),t=document.getElementById("comeback-date");const n=new Date,a=n.getMonth()>9?n.getMonth()+1:"0"+(n.getMonth()+1),r=n.getDate()>9?n.getDate():"0"+n.getDate(),o=n.getFullYear()+"-"+a+"-"+r;e.setAttribute("min",o),t.setAttribute("min",o)},l=document.getElementById("generate").addEventListener("click",(function(e){event.preventDefault();var t=document.getElementById("city-name").value,n=document.getElementById("departure-date").value,o=document.getElementById("comeback-date").value;Client.validationsForPlace(t),Client.validateForDate(n),Client.validateForDate(o),Client.validateDateInput(n,o);var i=new Date(n).getTime()/1e3;let l=document.getElementById("each-trip-wrapper"),d=document.createElement("div");var s=document.createElement("div");d.className="info",d.setAttribute("id","information");let u=new Request("http://api.geonames.org/searchJSON?username=priyanka_gite&q="+t,{method:"POST",body:t,headers:new Headers});if(""===t||""===n||""===o||o<=n!=!1)return null;fetch(u).then(e=>e.json()).then(e=>{if(0===e.totalResultsCount)return alert("Please check the city name and try again"),null;let u=e.geonames[0].lat,c=e.geonames[0].lng,p=e.geonames[0].countryName;fetch("http://localhost:8083/destination",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:u,longitude:c,time:i})}).then((function(e){return e.json()})).then((function(e){var i=(new Date).toJSON().slice(0,10).replace(/-/g,"-"),u=new Date(i),c=new Date(n),m=a(c,new Date(o)),f=a(u,c);let h=Math.round(5*(e.currently.temperature-32)/9)+"<sup>o</sup>C",g=Math.round(5*(e.currently.apparentTemperature-32)/9)+"<sup>o</sup>C";d.innerHTML=`<div class="item" id="weather-information"> \n                                <h3>My trip to ${r(t)}, ${p}</h3>\n                                <h3>Departing date is ${n}</h3>\n                                \n                                \n                                <button class="save btn" onclick="Client.removeTrip(this)">remove trip</button>\n                                  <p>${r(t)} is ${f} day(s) away</p>\n                                  <p>You will be staying in ${t} for ${m} day(s)</p>\n                                  <p>Typical weather for then is</p>\n                                  <p>High: ${h}, Low: ${g}</p>\n                                  <p>${e.currently.summary} </p>\n                                </div>                            \n                              `,d.append(s),l.append(d)}))}),fetch("http://localhost:8083/destination-pic",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({destination:t,image_type:"photo",category:"places, nature, buildings, people"})}).then(e=>e.json()).then(e=>{if(s.className="image",null==e)return null;e.total<=0?s.innerHTML=`<img src=${e.hits[0].previewURL} alt=${t} />`:s.innerHTML=`<img src=${e.hits[0].largeImageURL} alt=${t} />`})}));function d(e){let t=document.getElementById("error-div");""===e||void 0===e?(t.classList.add("show-s"),t.classList.remove("hide")):(t.classList.add("hide-s"),t.classList.remove("show-s"))}function s(e){let t=document.getElementById("error-div-d");""===e||void 0===e?(t.classList.add("show-d"),t.classList.remove("hide-d")):(t.classList.add("hide-d"),t.classList.remove("show-d"))}function u(e,t){let n=document.getElementById("error-div-t");t<=e?(n.classList.add("show-t"),n.classList.remove("hide-t")):(n.classList.add("hide-t"),n.classList.remove("show-t"))}n(0),n(1),n(2),n(3);n.d(t,"handleSubmit",(function(){return l})),n.d(t,"removeTrip",(function(){return o})),n.d(t,"onLoad",(function(){return i})),n.d(t,"validationsForPlace",(function(){return d})),n.d(t,"validateForDate",(function(){return s})),n.d(t,"validateDateInput",(function(){return u})),console.log("CHANGE!!")}]);